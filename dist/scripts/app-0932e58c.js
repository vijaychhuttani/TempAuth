/**
 * Readsup - Main App Declaration
 *
 */
function validateUser(a){return a.validateUser()}function AuthController(a,e,o,i,t){a.registrationForm={},a.loginForm={},a.handleEmailRegistration=function(){console.log(a.registrationForm),e.submitRegistration(a.registrationForm).then(function(a){console.log("REGISTRATION SUCCESS"),console.log(a)}).catch(function(a){t({message:a.errors[0],classes:"alert-danger"}),console.log("REGISTRATION FAILED"),console.log(a)})},a.handleFacebookAuth=function(){e.authenticate("facebook").then(function(a){console.log("FB LOGIN SUCCESS"),console.log(a)}).catch(function(a){console.log("FB LOGIN FAILURE"),console.log(a)})},a.handleGoogleAuth=function(){e.authenticate("google").then(function(a){console.log("Google LOGIN SUCCESS"),console.log(a)}).catch(function(a){console.log("Google LOGIN FAILURE"),console.log(a)})},a.handleEmailLogin=function(){e.submitLogin(a.loginForm).then(function(){}).catch(function(a){console.log("Error:"+a.errors)})},a.$on("auth:registration-email-success",function(){}),a.$on("auth:email-confirmation-success",function(){i.go("index.login")}),a.$on("auth:login-success",function(){i.go("app.home")}),o.$on("auth:login-error",function(a,e){t({message:e.errors[0],classes:"alert-danger"})})}!function(){angular.module("readsupApp",["ngAnimate","ngCookies","ngTouch","ngResource","ui.router","oc.lazyLoad","ui.bootstrap","ngSanitize","ng-token-auth","cgNotify"])}(),angular.module("readsupApp").config(["$authProvider",function(a){a.configure({apiUrl:"http://52.0.165.53",tokenValidationPath:"/auth/validate_token",signOutUrl:"/auth/sign_out",emailRegistrationPath:"/auth",accountUpdatePath:"/auth",accountDeletePath:"/auth",confirmationSuccessUrl:"http://localhost:3000/#/index/login",passwordResetPath:"/auth/password",passwordUpdatePath:"/auth/password",passwordResetSuccessUrl:window.location.href,emailSignInPath:"/auth/sign_in",storage:"cookies",forceValidateToken:!1,validateOnPageLoad:!0,proxyIf:function(){return!1},proxyUrl:"/proxy",omniauthWindowType:"sameWindow",authProviderPaths:{github:"/auth/github",facebook:"/auth/facebook",google:"/auth/google_oauth2"},tokenFormat:{"access-token":"{{ token }}","token-type":"Bearer",client:"{{ clientId }}",expiry:"{{ expiry }}",uid:"{{ uid }}"},parseExpiry:function(a){return 1e3*parseInt(a.expiry)||null},handleLoginResponse:function(a){return a.data},handleAccountUpdateResponse:function(a){return a.data},handleTokenValidationResponse:function(a){return a.data}})}]),angular.module("readsupApp").config(["$stateProvider","$urlRouterProvider","$ocLazyLoadProvider",function(a,e){a.state("index",{"abstract":!0,url:"/index",templateUrl:"components/common/full-page.html"}).state("index.login",{url:"/login",templateUrl:"app/auth/login.html",controller:"AuthController",data:{pageTitle:"Readsup Login"}}).state("index.register",{url:"/register",templateUrl:"app/auth/register.html",controller:"AuthController",data:{pageTitle:"Register for Readsup Account"}}).state("app",{"abstract":!0,url:"/app",templateUrl:"components/common/content.html",resolve:{auth:validateUser}}).state("app.home",{url:"/home",templateUrl:"app/home/home.html"}).state("app.profile",{url:"/profile",templateUrl:"app/userProfile/profile.html"}),e.otherwise("/index/login")}]),validateUser.$inject=["$auth"],angular.module("readsupApp").controller("AuthController",AuthController),AuthController.$inject=["$scope","$auth","$rootScope","$state","notify"],$(document).ready(function(){function a(){var a=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",a+"px");var e=$("nav.navbar-default").height(),o=$("#page-wrapper").height();e>o&&$("#page-wrapper").css("min-height",e+"px"),o>e&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&$("#page-wrapper").css("min-height",$(window).height()-60+"px")}$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||a()}),setTimeout(function(){a()})}),$(function(){$(window).bind("load resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")})}),angular.module("readsupApp").directive("sideNavigation",["$timeout",function(a){return{restrict:"A",link:function(e,o){a(function(){o.metisMenu()});var i=o.parent();i.slimScroll({height:"100%",railOpacity:.9})}}}]).directive("minimalizaSidebar",["$timeout",function(a){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary-dark" href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(e){e.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),a(function(){angular.element("#side-menu").fadeIn(500)},100)):angular.element("#side-menu").removeAttr("style")}}]}}]),angular.module("readsupApp").controller("appController",["$scope",function(){console.log(window.location.href),this.userName="Vijay Chhuttani",this.helloText="Welcome to Readsup",this.descriptionText="Anything and Everything a reader can dream of.",this.userProfileImageSmall="../../assets/images/profile_small.jpg"}]),angular.module("readsupApp").run(["$templateCache",function(a){a.put("app/auth/login.html",'<div class="loginColumns ng-animate fadeInDown"><div class="row middle-box text-center"><h2 class="font-bold">Welcome to Readsup.com</h2></div><div class="row"><div class="col-md-6"><div class="ibox-content"><form class="m-t" ng-submit="handleEmailLogin()" role="form"><div class="form-group"><input type="email" name="email" ng-model="loginForm.email" class="form-control" placeholder="Email" required=""></div><div class="form-group"><input type="password" name="password" ng-model="loginForm.password" class="form-control" placeholder="Password" required=""></div><button type="submit" class="btn btn-primary block full-width m-b">Login</button> <a href="#"><small>Forgot password?</small></a><p class="text-muted text-center"><small>Do not have an account?</small></p><a class="btn btn-sm btn-success btn-block btn-outline" ui-sref="index.register">Create an account</a></form></div></div><div class="col-md-6"><div class="ibox-content"><form class="m-t" role="form"><button type="submit" ng-click="handleFacebookAuth()" class="btn btn-success block full-width m-b"><i class="fa fa-facebook"></i> Continue using Facebook</button> <button type="submit" ng-click="handleGoogleAuth()" class="btn btn-danger block full-width m-b"><i class="fa fa-google-plus"></i> Continue using Google+</button></form></div></div></div><hr><div class="row"><div class="col-md-6">Copyright Readsup.com</div><div class="col-md-6 text-right"><small>Â© 2016-2017</small></div></div></div>'),a.put("app/auth/register.html",'<div class="middle-box text-center loginscreen animated fadeInDown"><div><div></div><h3>Register to Readsup</h3><p>Create account to start exploring Books.</p><form class="m-t" ng-submit="handleEmailRegistration()" role="form"><div class="form-group"><input type="text" name="name" ng-model="registrationForm.name" class="form-control" placeholder="Name" required=""></div><div class="form-group"><input type="email" name="email" ng-model="registrationForm.email" class="form-control" placeholder="Email" required=""></div><div class="form-group"><input type="password" name="password" ng-model="registrationForm.password" class="form-control" placeholder="Password" required=""></div><div class="form-group"><div class="checkbox i-checks"><label><input type="checkbox"><i></i> I agree to the terms and policy</label></div></div><button type="submit" class="btn btn-primary block full-width m-b">Register</button><p class="text-muted text-center"><small>Already have an account?</small></p><a class="btn btn-sm btn-success btn-block btn-outline" ui-sref="index.login">Login</a></form></div></div>'),a.put("app/home/home.html","<h1>Welcome to Readsup</h1>"),a.put("app/userProfile/profile.html","<h2>User Profile Will be HERE</h2>"),a.put("components/common/content.html",'<div id="wrapper"><div ng-include="\'components/common/navigation.html\'"></div><div id="page-wrapper" class="gray-bg {{$state.current.name}}"><div ng-include="\'components/common/topnavbar.html\'"></div><div ui-view=""></div></div></div>'),a.put("components/common/footer.html",'<div class="footer"><div class="pull-right">10GB of <strong>250GB</strong> Free.</div><div><strong>Copyright</strong> Example Company &copy; 2014-2015</div></div>'),a.put("components/common/full-page.html",'<div ui-view=""></div>'),a.put("components/common/ibox_tools.html",'<div class="ibox-tools dropdown" dropdown=""><a ng-click="showhide()"><i class="fa fa-chevron-up"></i></a> <a class="dropdown-toggle" href="" dropdown-toggle=""><i class="fa fa-wrench"></i></a><ul class="dropdown-menu dropdown-user"><li><a href="">Config option 1</a></li><li><a href="">Config option 2</a></li></ul><a ng-click="closebox()"><i class="fa fa-times"></i></a></div>'),a.put("components/common/navigation.html",'<nav class="navbar-default navbar-static-side" role="navigation"><div class="sidebar-collapse"><ul side-navigation="" class="nav metismenu" id="side-menu"><li class="nav-header"><div class="dropdown profile-element" dropdown=""><img alt="image" class="img-circle" src="{{app.userProfileImageSmall}}" height="48" width="48"> <a aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" dropdown-toggle="" href=""><span class="clear"><span class="block m-t-xs"><strong class="font-bold">{{app.userName}}</strong></span> <span class="text-muted text-xs block">My Account<b class="caret"></b></span></span></a><ul class="dropdown-menu m-t-xs"><li><a ui-sref="app.logout">Logout</a></li></ul></div><div class="logo-element">R&uarr;</div></li><li ui-sref-active="active"><a ui-sref="index.main"><i class="fa fa-home"></i> <span class="nav-label">Home</span></a></li><li ui-sref-active="active"><a ui-sref="index.minor"><i class="fa fa-user"></i> <span class="nav-label">Profile</span></a></li><li ui-sref-active="active"><a ui-sref="index.minor"><i class="fa fa-book"></i> <span class="nav-label">Shelves</span></a></li><li ui-sref-active="active"><a ui-sref="index.minor"><i class="fa fa-heart"></i> <span class="nav-label">Wishlist</span></a></li><li ui-sref-active="active"><a ui-sref="index.minor"><i class="fa fa-group"></i> <span class="nav-label">Communities</span></a></li><li ui-sref-active="active"><a ui-sref="index.minor"><i class="fa fa-gears"></i> <span class="nav-label">Settings</span></a></li><li ui-sref-active="active"><a ui-sref="index.minor"><i class="fa fa-question-circle"></i> <span class="nav-label">FAQs</span></a></li><li ui-sref-active="active"><a ui-sref="index.minor"><i class="fa fa-bug"></i> <span class="nav-label">Report Bug</span></a></li></ul></div></nav>'),a.put("components/common/topnavbar.html",'<div class="row border-bottom"><nav class="navbar navbar-fixed-top white-bg" role="navigation" style="margin-bottom: 0"><div class="navbar-header"><span minimaliza-sidebar=""></span></div><ul class="nav navbar-top-links navbar-right"><li><a ui-sref="index.login"><i class="fa fa-user"></i> Login</a></li><li><a href=""><i class="fa fa-bell"></i></a></li><li><a href=""><i class="fa fa-comments"></i></a></li></ul></nav></div>')}]);